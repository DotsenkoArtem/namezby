"use strict";function _createForOfIteratorHelper(e,t){var r,n,o,a,s="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(s)return n=!(r=!0),{s:function(){s=s.call(e)},n:function(){var e=s.next();return r=e.done,e},e:function(e){n=!0,o=e},f:function(){try{r||null==s.return||s.return()}finally{if(n)throw o}}};if(Array.isArray(e)||(s=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return s&&(e=s),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function setPreloader(){preloader.style.transition="opacity ".concat(1500,"ms"),preloader.classList.add("fade-out"),setTimeout(function(){preloader.remove()},1500)}function handleModals(){document.querySelectorAll(".js-modal-trigger").forEach(function(e){var t,r=document.querySelector("#".concat(e.dataset.target)),n=r.querySelector(".modal__close"),o=document.createElement("div");function a(){r.classList.remove("shown"),setTimeout(function(){r.style="",o.remove()},t)}o.className="modal-backdrop",e.addEventListener("click",function(){t="0"===e.dataset.duration?0:+e.dataset.duration||350,r.style.transition="".concat(t,"ms ease-out"),r.style.display="flex",setTimeout(function(){r.classList.add("shown")},0),r.append(o)}),o.addEventListener("click",a),n.addEventListener("click",a)})}function handleHeader(){var e=document.querySelector("header");function t(){300<scrollY?e.classList.add("bg-painted"):e.classList.remove("bg-painted")}t(),window.addEventListener("scroll",t),window.addEventListener("resize",t)}window.addEventListener("load",setPreloader),handleModals(),window.addEventListener("load",function(){handleHeader();var e=document.querySelectorAll('[type="tel"]');new Inputmask("+375 (99) 999-99-99").mask(e)});var menuToggle=document.querySelector(".js-menu-trigger"),menu=document.querySelector(".js-header-menu"),menuOverl=document.querySelector(".js-overl");function navBarHandle(e,t){var o,a=t.querySelectorAll(".js-menu-item");function r(){var e,t=_createForOfIteratorHelper(a);try{for(t.s();!(e=t.n()).done;)e.value.style.transitionDelay=""}catch(e){t.e(e)}finally{t.f()}o=!1}e.addEventListener("click",function(){(o?r:function(){var e,t=.2,r=_createForOfIteratorHelper(a);try{for(r.s();!(e=r.n()).done;){var n=e.value;t+=.05,n.style.transitionDelay="".concat(t,"s")}}catch(e){r.e(e)}finally{r.f()}o=!0})(),e.classList.toggle("open"),t.classList.toggle("open"),menuOverl.classList.toggle("open"),document.body.classList.toggle("scroll-hidden")}),menuOverl.addEventListener("click",function(){r(),e.classList.remove("open"),t.classList.remove("open"),menuOverl.classList.remove("open"),document.body.classList.remove("scroll-hidden")})}document.addEventListener("DOMContentLoaded",function(){navBarHandle(menuToggle,menu)});var menuItemCollapses=document.querySelectorAll(".menu-mobile-collapse > .menu-item-has-children");if(menuItemCollapses)for(var _loop=function(){var e=menuItemCollapses[i],t=e.firstElementChild;function r(){return"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints}t.addEventListener("click",function(e){r()&&!e.defaultPrevented&&e.preventDefault();!r()&&e.defaultPrevented&&(e.defaultPrevented=!1)});var n=e.querySelector(".menu .sub-menu");t.addEventListener("click",function(){n.offsetHeight?(e.classList.remove("open"),n.style.maxHeight=""):(e.classList.add("open"),n.style.maxHeight=n.scrollHeight+"px")})},i=0;i<menuItemCollapses.length;i++)_loop();var faqCollapses=document.querySelectorAll(".js-faq-collapse");if(faqCollapses)for(var _loop2=function(){var e=faqCollapses[_i],t=e.firstElementChild,r=e.querySelector(".question__content");t.addEventListener("click",function(){r.offsetHeight?(e.classList.remove("open"),r.style.maxHeight=""):(e.classList.add("open"),r.style.maxHeight=r.scrollHeight+"px")})},_i=0;_i<faqCollapses.length;_i++)_loop2();var footerCollapses=document.querySelectorAll(".js-footer-collapse");if(footerCollapses)for(var _loop3=function(){var e=footerCollapses[_i2],t=e.firstElementChild,r=e.querySelector(".footer-menu");t.addEventListener("click",function(){r.offsetHeight?(e.classList.remove("open"),r.style.maxHeight=""):(e.classList.add("open"),r.style.maxHeight=r.scrollHeight+"px")})},_i2=0;_i2<footerCollapses.length;_i2++)_loop3();for(var clientsSlider,swiper=new Swiper(".entry-slider",{autoplay:{delay:7500},loop:!0,speed:500,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),tabsBoxes=(document.querySelector(".clients-slider .swiper-wrapper > .swiper-slide")&&(clientsSlider=new Swiper(".clients-slider",{slidesPerView:2,slidesPerGroup:2,autoplay:{delay:7500},loop:!0,speed:500,grid:{rows:2},spaceBetween:15,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{576:{slidesPerView:4,spaceBetween:40,grid:{rows:1}}}})),document.querySelectorAll(".tabs-wrap")),_loop4=function(){for(var n=tabsBoxes[_i3].querySelectorAll(".tabs__btn"),o=tabsBoxes[_i3].querySelector(".tabs-content"),a=o.querySelectorAll(".tabs-content__item"),e=0;e<n.length;e++)n[e].addEventListener("click",function(){for(var e=0;e<n.length;e++)n[e].classList.remove("active");var t="#"+this.dataset.target;this.classList.add("active");for(var r=0;r<a.length;r++)a[r].classList.remove("active");o.querySelector(t).classList.add("active")})},_i3=0;_i3<tabsBoxes.length;_i3++)_loop4();var forms=Array.from(document.forms);function setRequiredMark(e){e.querySelectorAll("[required]").forEach(function(e){e.parentNode.querySelector(".form-label").classList.add("required")})}function fixLabel(e){e.querySelectorAll(".form-group_float-label ").forEach(function(e){var t=e.querySelector("input")||e.querySelector("textarea");e.lastElementChild;t.addEventListener("blur",function(){this.value?this.classList.add("has-value"):this.classList.remove("has-value")})})}function handleForm(o){(o.querySelector("button.form-submit")||o.querySelector('input[type="submit"]')).addEventListener("click",function(e){e.preventDefault();var t,r,n,e=Array.from(o.querySelectorAll("[required]"));n=[],e.forEach(function(t){var r=t.parentNode.querySelector("label");function e(e){t.dataset.required="".concat(e),r.dataset.requiredLabel="".concat(e)}r.dataset.requiredLabel="",t.oninput=function(){t.dataset.required="",r.dataset.requiredLabel=""},"text"===t.getAttribute("type")&&(""===t.value.trim()?(t.value="",e("invalid"),n.push(1)):e("valid")),"tel"===t.getAttribute("type")&&t.hasAttribute("data-mask")&&(t.inputmask&&!t.inputmask.isComplete()?(e("invalid"),n.push(2)):e("valid")),"email"===t.getAttribute("type")&&(/[-.\w]+@([\w-]+\.)+[\w-]+/.test(t.value.trim())?e("valid"):(e("invalid"),n.push(3)))}),n.length||(e=new XMLHttpRequest,r=o.action,e.open("POST",r,!0),e.onload=function(){t=200<=this.status&&this.status<400?"success":"error",setAlert(o,t)},e.onerror=function(){setAlert(o,t="error")},e.send(new FormData(o)))})}function setAlert(e,t){var r,n,o,a=e.querySelector("button.form-submit")||e.querySelector('input[type="submit"]'),s=document.querySelector("#formAlert"),l=s.querySelector(".modal-message__title "),i=s.querySelector(".modal-message__subtitle "),c=s.querySelector(".modal__close"),u={title:{success:"<p>Спасибо!</p>",error:"<p>Ошибка!</p>"},subtitle:{success:"<p>Заявка принята <br>В ближайшее время мы с Вами свяжемся!</p>",error:"<p>Пожалуйста, попробуйте еще раз</p>"}},d=(document.querySelector(".modal.shown")&&((n=document.querySelector(".modal.shown")).classList.remove("shown"),o=n.querySelector(".modal-backdrop"),setTimeout(function(){n.style="",o.remove()},r)),document.createElement("div"));function f(){s.classList.remove("shown"),e.reset(),e.querySelectorAll("[data-required]").forEach(function(e){e.dataset.required=""}),e.querySelectorAll("[data-required-label]").forEach(function(e){e.dataset.requiredLabel=""}),e.querySelectorAll("input").forEach(function(e){e.classList.remove("has-value")}),e.querySelectorAll("textarea").forEach(function(e){e.classList.remove("has-value")}),setTimeout(function(){s.style="",s.classList.remove("modal-message_".concat(t)),d.remove()},r)}d.className="modal-backdrop",r="0"===a.dataset.duration?0:+a.dataset.duration||350,s.style.transition="".concat(r,"ms ease-out"),s.classList.add("modal-message_".concat(t)),l.innerHTML=u.title[t],i.innerHTML=u.subtitle[t],s.style.display="flex",setTimeout(function(){s.classList.add("shown")},0),s.append(d),d.addEventListener("click",f),c.addEventListener("click",f),setTimeout(function(){f()},5e3)}function setFancyGAlleries(){for(var e=document.querySelectorAll("[data-fancybox]"),t=[],r=void 0,n=0;n<e.length;n++)e[n].dataset.fancybox!==r&&t.push(e[n].dataset.fancybox),r=e[n].dataset.fancybox;t.forEach(function(e){Fancybox.bind("[data-fancybox='".concat(e,"']"),{Thumbs:{type:!1},transition:"classic"})})}function setFancyFromAdmin(){Fancybox.bind('a[href*=".jpg"]:not([data-fancybox],a[href*=".jpeg"]:not([data-fancybox],a[href*=".png"]:not([data-fancybox],a[href*=".gif"]:not([data-fancybox],a[href*=".webp"]:not([data-fancybox]',{groupAll:!0})}function sidebarCollapses(){var e=document.querySelectorAll(".sidebar-menu li.menu-item-has-children");e&&e.forEach(function(e){var t=e.firstElementChild,r=e.querySelector("ul.sub-menu.lv2");t.addEventListener("click",function(){r.offsetHeight?(e.classList.remove("open"),r.style.maxHeight=""):(e.classList.add("open"),r.style.maxHeight=r.scrollHeight+"px")})})}forms.forEach(function(e){setRequiredMark(e),fixLabel(e),handleForm(e)}),window.addEventListener("load",function(){document.addEventListener("click",function(e){e.target.closest(".js-services-item")&&(e=e.target.closest(".js-services-item").querySelector(".js-services-item-btns"),console.log("btns: ",e),e.style.pointerEvents="unset")}),document.addEventListener("click",function(e){e.target.closest(".js-services-item")||document.querySelectorAll(".js-services-item-btns").forEach(function(e){e.style.pointerEvents=""})})}),window.addEventListener("load",setFancyGAlleries),window.addEventListener("load",setFancyFromAdmin),window.addEventListener("DOMContentLoaded",sidebarCollapses);