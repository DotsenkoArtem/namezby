@use '_partials/variables' as v
@use '_partials/mixins' as m

@import "comments.sass"
@import "fonts.sass"
@import "default.sass"
@import "grid.sass"

@import "../../components/preloader/component"
// @import "../../components/buttons/component"
// @import "../../components/menu-underline-js/component"
// @import "../../components/btn-vawe/component"
// @import "../../components/modal/component"
// @import "../../components/form/component"

.wrapper
  margin: 0 auto
  max-width: v.$site-max-width
  overflow: hidden
  position: relative

// .section-title
//   color: $heading-color
//   h1
//     margin-bottom: 1.5rem

// .section-content
//   p
//     font-family: $ff-primary
//     font-size: 1.6rem
//     font-weight: 500
//     line-height: 1.375

// .section
//   &_py-60
//     padding-top: 6rem
//     padding-bottom: 6rem
//   &_py-80
//     padding-top: 8rem
//     padding-bottom: 8rem

// .section-invert
//   h2, p
//     color: $text-light



// vars
$menu-trigger-offset-r: calc(v.$gutter + 2rem)
$menu-trigger-width: 2.8rem
$menu-trigger-height: 2.1rem
$menu-trigger-dash-height: .3rem


/* Header */
.header
  position: fixed
  top: 0
  right: 0
  left: 0
  z-index: 2
  transition: background-color calc( v.$transition-main * 2 )
  &__inner
    padding: 1.35rem 0
    display: flex
    // justify-content: space-between
    align-items: center

  &__right
    display: flex
    align-items: center
    margin-left: auto
    margin-right: calc( $menu-trigger-offset-r + $menu-trigger-width + 3rem )
  
  &-logo 
    padding: .4rem 1rem
    background: v.$white
    border-radius: .5rem

  &__menu-trigger
    position: absolute
    right: $menu-trigger-offset-r
    z-index: 1000


  &.bg-painted
    background-color: rgba(251, 251, 251, .5)
    .header__contacts-link a
        color: v.$grey-primary
    .header__contacts-link svg path
      fill: v.$grey-primary
      stroke: v.$grey-primary
    .menu-trigger__dash
      background-color: v.$grey-primary




.header-menu
  &__logo,
  &-trigger,
  &-overl
    display: none



.contacts-link
  display: flex
  align-items: center
  flex-wrap: nowrap
  transition: v.$transition-main
  &__icon
    margin-right: 0.5em
    transition: v.$transition-main
    path
      transition: inherit
  &__icon--phone
    width: 1.05em
    height: 1.05em
  a
    display: inline-flex
    align-items: center
    font-size: 2rem 
    font-weight: 500
    color: v.$grey-light
    transition: color inherit

.header-menu
  // display: none
  position: fixed
  top: 0
  right: 0
  bottom: 0
  transform: translateX(100%)
  z-index: 999
  width: 75%
  max-width: 160rem
  background-color: v.$header-menu-bg
  transition: transform ease-out 0.3s

  &__inner
    position: relative
    display: flex
    flex-direction: column
    align-items: stretch
    margin-left: auto
    margin-right: auto
    width: 100%
    height: 100%

  &__header
    padding: v.$gutter calc( v.$gutter * 2 )
    display: flex
    align-items: center
    flex: none
    min-height: 8rem
    // box-shadow: 0 0 5px 0px rgba(0, 0, 0, 0.2)
    // background: rgba(255, 255, 255, 1)

  &__logo
    display: block
    width: 16rem
    max-height: 3.2rem
    flex: none
    display: none

  &-scrollable
    overflow-x: hidden
    overflow-y: auto

  &__body
    padding-left: 6rem
    padding-right: 6rem
    display: flex
    flex-direction: column
    flex: 1

  &__footer
    padding-top: v.$gutter
    padding-bottom: v.$gutter
    display: flex
    flex-direction: column
    align-items: flex-start
    flex: none
    min-height: 8rem
    .contacts-link
      display: none

    // box-shadow: 0 0 5px 0px rgba(0, 0, 0, 0.2)
    // background: rgba(255, 255, 255, 1)

  .js-menu-item
    transform: translateX(5px)
    opacity: 0

  &.open
    transform: translateX(0)
    .js-menu-item
      transition: 500ms
      // transform: translateX(0)
      transform: none
      opacity: 1



  &-overl
    display: block
    position: fixed
    top: 0
    right: 0
    bottom: 0
    height: 0
    z-index: -1
    width: 100%
    height: 100%
    background: rgba(0, 0, 0, 0)
    visibility: hidden
    transition: 0.3s
    &.open
      z-index: 980
      width: 100%
      visibility: visible
      background: rgba(0, 0, 0, 0.5)






  // &__footer
  //   display: block



.menu-trigger
  display: block
  width: $menu-trigger-width
  height: $menu-trigger-height
  position: relative
  transition: v.$transition-main

  &__dash
    position: absolute
    display: block
    width: 2.8rem
    height: $menu-trigger-dash-height
    background-color: v.$grey-light
    transition: inherit
  &__dash
    &:first-child
      top: 0
    &:nth-child(2)
        top: calc( ($menu-trigger-height / 2) - ($menu-trigger-dash-height * .5) )
    &:last-child
        top: calc( $menu-trigger-height - $menu-trigger-dash-height )
  
  &.open
    right: 17px
    .menu-trigger__dash
      &:first-child
        transform-origin: 0px 2px
        transform: rotate(45deg)
      &:nth-child(2)
        opacity: 0
      &:last-child
        transform-origin: 2px 2px
        transform: rotate(-45deg)





// Menu
// Vars
$menu-item-lv1-max-width: 36rem

.header-menu__nav
  display: flex
  flex: 1
.menu
  flex: 1
  position: relative
  &-item.lv1
    max-width: $menu-item-lv1-max-width
  &-item > a
    display: block
    padding: 1rem 0
    font-size: 3.7rem 
    font-weight: 500
    color: v.$grey-primary
  &-item.current-menu-item > a
    color: v.$accent-color

.sub-menu.lv2
  padding-top: 1rem
  position: absolute
  top: 0
  left: $menu-item-lv1-max-width
  right: 0
  bottom: 0
  overflow: auto
  opacity: 0
  visibility: hidden
  transition: v.$transition-main

.menu-item.lv2 > a
  padding: 0.8rem 0
  font-size: 1.6rem
  font-weight: 400
  transition: none



.menu
  // &-item:not(.current-menu-item):hover > a
  &-item:hover > a
    color: transparent
    -webkit-background-clip: text
    background-clip: text
    background-image: linear-gradient(94.72deg, v.$yellow-start -12.19%, v.$yellow-end 108.86%)

  &-item-has-children:hover > .sub-menu
    opacity: 1
    visibility: visible


@media (hover: hover) and (pointer: fine)
  .menu-trigger:hover
    .menu-trigger__dash
      background-color: v.$grey-primary

  .menu-trigger:not(.open):hover
    .menu-trigger__dash
      &:first-child
        transform: translateY(1px)
      &:last-child
        transform: translateY(-1px)

  .menu-trigger.open:hover
    transform: scale(.92)

  .contacts-link:hover
    a
      color: v.$grey-primary
    .contacts-link__icon path
      fill: v.$grey-primary
      stroke: v.$grey-primary




// Active
.menu-trigger:active
  .menu-trigger__dash
    background-color: v.$grey-primary
    transition: background-color 0

.menu-trigger:not(.open):active
  .menu-trigger__dash
    &:first-child
      transform: translateY(1px)
    &:last-child
      transform: translateY(-1px)

.menu-trigger.open:active
  transform: scale(.92)
  .menu-trigger__dash
    transition: background-color 0

.contacts-link:active
  a
    color: v.$grey-primary
    transition: none
  .contacts-link__icon path
    fill: v.$grey-primary
    stroke: v.$grey-primary
    transition: none

.menu
  &-item:not(.current-menu-item):active > a
    // color: v.$yellow-start
    color: transparent
    -webkit-background-clip: text
    background-clip: text
    background-image: linear-gradient(94.72deg, v.$yellow-start -12.19%, v.$yellow-end 108.86%)
    transition: none
      



/* Entry section */
.entry 
  width: 100%
  height: 100vh

  &-slider
    --swiper-navigation-size: 4.4rem
    width: 100%
    height: 100%
    .swiper-button-prev,
    .swiper-button-next
      width: calc( var(--swiper-navigation-size) * .68 )
      height: calc( var(--swiper-navigation-size) * .68 )
      background: v.$white
      border-radius: 50%
      transition: v.$transition-main
      &::after
        font-size: calc(var(--swiper-navigation-size) * .3)
    .swiper-button-prev
      left: 3rem
    .swiper-button-next
      right: 3rem
  &-slide
    display: flex
    justify-content: center
    align-items: center
    a
      width: 100%
      height: 100%
    img
      width: 100%
      height: 100%
      object-fit: cover
      user-select: none

// Entry Hover
@media (hover: hover) and (pointer: fine)
    .swiper-button-prev:hover,
    .swiper-button-next:hover
      background: v.$grey-primary
      &::after
        color: v.$white


// Entry Active
.swiper-button-prev:active,
.swiper-button-next:active
  background: v.$grey-primary
  transition: none
  &::after
    color: v.$white

  











// Lazy 
// -------------------------
// .lazy 
//    width: 100%
//    height: 100%
//    position: relative
//       background-image: -o-linear-gradient(left, transparent, rgba(255, 255, 255, 0.5) 50%, transparent 100%), -o-linear-gradient(#DDD 100%, transparent 0)
//       background-image: -webkit-gradient(linear, left top, right top, from(transparent), color-stop(50%, rgba(255, 255, 255, 0.5)), to(transparent)), -webkit-gradient(linear, left top, left bottom, color-stop(100%, #DDD), color-stop(0, transparent))
//       background-image: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.5) 50%, transparent 100%), linear-gradient(#DDD 100%, transparent 0)
//       background-repeat: no-repeat
//       background-size: 26% 100%, cover
//       background-position: 0 0, 0 0, 0px 85px, 0px 110px
//       animation: animloader 1s linear infinite
//    img
//       visibility: hidden
//    
// 

// @-webkit-keyframes animloader 
//    0%  background-position:  0 0, 0 0, 0px 85px, 0px 110px
//    100%  background-position:  150% 0, 0 0, 0px 85px, 0px 110px
// 

// @keyframes animloader 
//    0%  background-position:  0 0, 0 0, 0px 85px, 0px 110px
//    100%  background-position:  150% 0, 0 0, 0px 85px, 0px 110px
// 

// ANIMATIONS
// ------------------------------  
// !!! Добавляется любой пустой селектор перед @import, так как после использования @include в свойствах выше директива @import смещается на один tab и некорректно отрабатывает импорт
// ! То есть, после @include следует запускать @import только после объявления нормаьного свойства
.fake-class-to-add-import-rule
  visibility: inherit

@import "animations"
@import "media-queries"
@import "gte-ie10-style"
